<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="记录在工作中遇到的各种技术问题">
<meta property="og:type" content="website">
<meta property="og:title" content="带刀大哥">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="带刀大哥">
<meta property="og:description" content="记录在工作中遇到的各种技术问题">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="带刀大哥">
<meta name="twitter:description" content="记录在工作中遇到的各种技术问题">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/5/"/>





  <title> 带刀大哥 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">带刀大哥</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">DavikChen的技术博客</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/22/RN父组件与子组件之间通信/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/RN父组件与子组件之间通信/" itemprop="url">
                  RN父组件与子组件之间通信
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-22T18:22:01+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/22/RN父组件与子组件之间通信/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/22/RN父组件与子组件之间通信/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="RN父组件与子组件之间通信"><a href="#RN父组件与子组件之间通信" class="headerlink" title="RN父组件与子组件之间通信"></a>RN父组件与子组件之间通信</h2><p>在开发中 我们经常会用到组件的复用。这样我们势必要用到如何在父组件中更新或者调用子组件的状态。</p>
<p>以一个dialog 组件例子:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Dialog ref=&quot;dialog&quot; callback=&#123;this.callback.bind(this)&#125;/&gt;</div></pre></td></tr></table></figure>
<p>自定义回调方法callback，处理选中逻辑<br>注意了 这里有一个ref参数 参数值将决定你后面如何在父组件中怎么调用Dialog 里面的方法<br>调用dialog 的 show方法 显示组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">this.refs.dialog.show(&quot;确定要取消订单吗&quot;);</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/22/RN布局之FlexBox/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/RN布局之FlexBox/" itemprop="url">
                  RN布局之FlexBox
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-22T17:59:48+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/22/RN布局之FlexBox/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/22/RN布局之FlexBox/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="RN布局之FlexBox"><a href="#RN布局之FlexBox" class="headerlink" title="RN布局之FlexBox"></a>RN布局之FlexBox</h2><p><a href="http://blog.csdn.net/codetomylaw/article/details/52190636" target="_blank" rel="external">链接地址</a></p>
<p>综述<br>flex是Flexible Box的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。采用flex布局的元素，称为flex容器（flex Container），简称”容器”。它的所有子元素自动成为容器成员，称为flex项目（flex item），简称”项目”。</p>
<p><strong>图解非常清楚 适合快速入门 &amp;&amp; 复习总结</strong></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/22/RN组件之Text和TextInput常用点/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/RN组件之Text和TextInput常用点/" itemprop="url">
                  RN组件之Text和TextInput常用点
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-22T17:40:33+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/22/RN组件之Text和TextInput常用点/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/22/RN组件之Text和TextInput常用点/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Text组件"><a href="#Text组件" class="headerlink" title="Text组件"></a>Text组件</h2><p>1、在使用Text的过程中，实现文本垂直居中、水平居中的效果（iOS和Android通用）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;View  style=&#123;styles.textView&#125;&gt;  </div><div class="line">    &lt;Text style=&#123;styles.text&#125;&gt; 水平垂直居中&lt;/Text&gt;  </div><div class="line">&lt;/View&gt;  </div><div class="line">  </div><div class="line">textView:&#123;  </div><div class="line">  flexDirection:&apos;column&apos;,  </div><div class="line">  justifyContent:&apos;center&apos;,  </div><div class="line">  alignItems:&apos;center&apos;,  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line">text:&#123;  </div><div class="line">    fontSize:12,  </div><div class="line">    color:&apos;#f2f2f2&apos;,  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>尽量用view去包裹一层Text组件，text组件只负责基础的文字样式，View组件负责对齐方式等。</p>
<p>2、在Android平台上，Text组件里使用paddingLeft 属性，不好使，直接顶着View了。<br>      解决方式：1）将paddingLeft放在View属性上<br>                        2）将paddingLeft修改为marginLeft<br>      建议使用第一种方案修改，把对齐方式交给view去处理，Text只负责文本属性的显示。</p>
<h2 id="TextInput组件"><a href="#TextInput组件" class="headerlink" title="TextInput组件"></a>TextInput组件</h2><p>####TextInput属性：</p>
<p>autoCapitalize enum(‘none’, ‘sentences’, ‘words’, ‘characters’)<br>控制TextInput是否要自动将特定字符切换为大写：<br>characters: 所有的字符。<br>words: 每个单词的第一个字符。<br>sentences: 每句话的第一个字符（默认）。<br>none: 不自动切换任何字符为大写。</p>
<p>autoCorrect bool<br>如果为false，会关闭拼写自动修正。默认值是true。</p>
<p>autoFocus bool<br>如果为true，在componentDidMount后会获得焦点。默认值为false。</p>
<p>blurOnSubmit bool<br>如果为true，文本框会在提交的时候失焦。对于单行输入框默认值为true，多行则为false。注意：对于多行输入框来说，如果将blurOnSubmit设为true，则在按下回车键时就会失去焦点同时触发onSubmitEditing事件，而不会换行。</p>
<p>defaultValue string<br>提供一个文本框中的初始值。当用户开始输入的时候，值就可以改变。在一些简单的使用情形下，如果你不想用监听消息然后更新value属性的方法来保持属性和状态同步的时候，就可以用defaultValue来代替。</p>
<p>editable bool<br>如果为false，文本框是不可编辑的。默认值为true。</p>
<p>keyboardType enum(“default”, ‘numeric’, ‘email-address’, “ascii-capable”, ‘numbers-and-punctuation’, ‘url’, ‘number-pad’, ‘phone-pad’, ‘name-phone-pad’, ‘decimal-pad’, ‘twitter’, ‘web-search’)<br>决定弹出的何种软键盘的，譬如numeric（纯数字键盘）。这些值在所有平台都可用：<br>default<br>numeric<br>email-address</p>
<p>maxLength number<br>限制文本框中最多的字符数。使用这个属性而不用JS逻辑去实现，可以避免闪烁的现象。</p>
<p>multiline bool<br>如果为true，文本框中可以输入多行文字。默认值为false。</p>
<p>onBlur function<br>当文本框失去焦点的时候调用此回调函数。</p>
<p>onChange function<br>当文本框内容变化时调用此回调函数。</p>
<p>onChangeText function<br>当文本框内容变化时调用此回调函数。改变后的文字内容会作为参数传递。</p>
<p>onEndEditing function<br>当文本输入结束后调用此回调函数。</p>
<p>onFocus function<br>当文本框获得焦点的时候调用此回调函数。</p>
<p>onLayout function<br>当组件挂载或者布局变化的时候调用，参数为{x, y, width, height}。</p>
<p>onSubmitEditing function<br>此回调函数当软键盘的确定/提交按钮被按下的时候调用此函数。如果multiline={true}，此属性不可用。</p>
<p>placeholder string<br>如果没有任何文字输入，会显示此字符串。</p>
<p>placeholderTextColor string<br>占位字符串显示的文字颜色。</p>
<p>secureTextEntry bool<br>如果为true，文本框会遮住之前输入的文字，这样类似密码之类的敏感文字可以更加安全。默认值为false。</p>
<p>selectTextOnFocus bool<br>如果为true，当获得焦点的时候，所有的文字都会被选中。</p>
<p>selectionColor string<br>设置输入框高亮时的颜色（在iOS上还包括光标）</p>
<p>style Text#style<br>译注：这意味着本组件继承了所有Text的样式。</p>
<p>value string<br>文本框中的文字内容。<br>TextInput是一个受约束的(Controlled)的组件，意味着如果提供了value属性，原生值会被强制与value属性保持一致。在大部分情况下这都工作的很好，不过有些情况下会导致一些闪烁现象——一个常见的原因就是通过不改变value来阻止用户进行编辑。如果你希望阻止用户输入，可以考虑设置editable={false}；如果你是希望限制输入的长度，可以考虑设置maxLength属性，这两个属性都不会导致闪烁。</p>
<p>ios   clearButtonMode enum(‘never’, ‘while-editing’, ‘unless-editing’, ‘always’)<br>是否要在文本框右侧显示“清除”按钮。</p>
<p>ios    clearTextOnFocus bool<br>如果为true，每次开始输入的时候都会清除文本框的内容。</p>
<p>ios    enablesReturnKeyAutomatically bool<br>如果为true，键盘会在文本框内没有文字的时候禁用确认按钮。默认值为false。</p>
<p>ios    keyboardAppearance enum(‘default’, ‘light’, ‘dark’)<br>指定键盘的颜色。</p>
<p>ios   onKeyPress function<br>当一个键被按下的时候调用此回调。被按下的键会作为参数传递给回调函数。会在onChange之前调用。</p>
<p>ios    returnKeyType enum(‘default’, ‘go’, ‘google’, ‘join’, ‘next’, ‘route’, ‘search’, ‘send’, ‘yahoo’, ‘done’, ‘emergency-call’)<br>决定“确定”按钮显示的内容。</p>
<p>ios    selectionState DocumentSelectionState<br>参见DocumentSelectionState.js，可以控制一个文档中哪段文字被选中的状态。</p>
<p>android  numberOfLines number<br>设置输入框的行数。当multiline设置为true时使用它，可以占据对应的行数。</p>
<p>android  underlineColorAndroid string<br>文本框的下划线颜色(译注：如果要去掉文本框的边框，请将此属性设为透明transparent)。</p>
<p>注意点：<br>1、在使用TextInput的过程中，在Android平台下，输入框下有个横线，此时需要将属性underlineColorAndroid  设置为transparent来解决。</p>
<p>2、常用的TextInput是作为文本域，譬如最多输入50个字符。<br>      此时需要设置   multiline ={true}<br>                   maxLength ={50}</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/22/Navigator语法介绍及经典应用/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/Navigator语法介绍及经典应用/" itemprop="url">
                  Navigator语法介绍及经典应用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-22T16:22:01+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/22/Navigator语法介绍及经典应用/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/22/Navigator语法介绍及经典应用/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Navigator语法介绍及经典应用"><a href="#Navigator语法介绍及经典应用" class="headerlink" title="Navigator语法介绍及经典应用"></a>Navigator语法介绍及经典应用</h2><p>官网说明:<br>使用导航器可以让你在应用的不同场景（页面）间进行切换。导航器通过路由对象来分辨不同的场景。利用renderScene方法，导航栏可以根据指定的路由来渲染场景。  </p>
<p>可以通过configureScene属性获取指定路由对象的配置信息，从而改变场景的动画或者手势。查看Navigator.SceneConfigs来获取默认的动画和更多的场景配置选项。</p>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>getCurrentRoutes() - 获取当前栈里的路由，也就是push进来，没有pop掉的那些。<br>jumpBack() - 跳回之前的路由，当然前提是保留现在的，还可以再跳回来，会给你保留原样。<br>jumpForward() - 上一个方法不是调到之前的路由了么，用这个跳回来就好了。<br>jumpTo(route) - 跳转到已有的场景并且不卸载。<br>push(route) - 跳转到新的场景，并且将场景入栈，你可以稍后跳转过去<br>pop() - 跳转回去并且卸载掉当前场景<br>replace(route) - 用一个新的路由替换掉当前场景<br>replaceAtIndex(route, index) - 替换掉指定序列的路由场景<br>replacePrevious(route) - 替换掉之前的场景<br>resetTo(route) - 跳转到新的场景，并且重置整个路由栈<br>immediatelyResetRouteStack(routeStack) - 用新的路由数组来重置路由栈<br>popToRoute(route) - pop到路由指定的场景，在整个路由栈中，处于指定场景之后的场景将会被卸载。<br>popToTop() - pop到栈中的第一个场景，卸载掉所有的其他场景。</p>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><p>1、configureScene<br>function 可选的函数，用来配置场景动画和手势。会带有两个参数调用，一个是当前的路由，一个是当前的路由栈。然后它应当返回一个场景配置对象<br>(route, routeStack) =&gt; Navigator.SceneConfigs.FloatFromRight</p>
<p>Navigator.SceneConfigs.PushFromRight (默认)<br>Navigator.SceneConfigs.FloatFromRight<br>Navigator.SceneConfigs.FloatFromLeft<br>Navigator.SceneConfigs.FloatFromBottom<br>Navigator.SceneConfigs.FloatFromBottomAndroid<br>Navigator.SceneConfigs.FadeAndroid<br>Navigator.SceneConfigs.HorizontalSwipeJump<br>Navigator.SceneConfigs.HorizontalSwipeJumpFromRight<br>Navigator.SceneConfigs.VerticalUpSwipeJump<br>Navigator.SceneConfigs.VerticalDownSwipeJump</p>
<p>2、renderScene<br>function 必要参数。用来渲染指定路由的场景。调用的参数是路由和导航器。</p>
<p>(route, navigator) =&gt; <myscenecomponent title="{route.title}" navigator="{navigator}"></myscenecomponent></p>
<p>3、initialRoute<br>object </p>
<p>定义启动时加载的路由。路由是导航栏用来识别渲染场景的一个对象。</p>
<p>其实，做过Android开发的是不是很熟悉，startActivityForResult    </p>
<p>那么我们看看RN怎么实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">render() &#123;  </div><div class="line">  let defaultName = &apos;FormManager&apos;;  </div><div class="line">  let defaultComponent = FormManager;  </div><div class="line">  return (  </div><div class="line">    &lt;Navigator  </div><div class="line">      initialRoute=&#123;&#123; name: defaultName, component: defaultComponent &#125;&#125;  </div><div class="line">      configureScene=&#123;(route) =&gt; &#123;  </div><div class="line">        if (route.sceneConfig) &#123;  </div><div class="line">          return route.sceneConfig;  </div><div class="line">        &#125;  </div><div class="line">        return Navigator.SceneConfigs.HorizontalSwipeJump;  </div><div class="line">      &#125;&#125;  </div><div class="line">      renderScene=&#123;(route, navigator) =&gt; &#123;  </div><div class="line">        let Component = route.component;  </div><div class="line">        return &lt;Component &#123;...route.params&#125; navigator=&#123;navigator&#125; /&gt;  </div><div class="line">      &#125;&#125;  </div><div class="line">    /&gt;  </div><div class="line">  );  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面的代码：<br>我们通过initialRoute初始化了一个Route，定义了初始化的Component。<br>设置了切换的动画效果：Navigator.SceneConfigs.HorizontalSwipeJump<br>指定路由和导航器，注意一定要有navigator={navigator} ，将导航器传递。</p>
<h3 id="跳转页面"><a href="#跳转页面" class="headerlink" title="跳转页面"></a>跳转页面</h3><p>在FormManager这个Component中，譬如我们点击字段1，调用onPress方法，跳转到选项页面，代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">choose()&#123;  </div><div class="line">  const self=this;  </div><div class="line">  const &#123; navigator &#125; = this.props;  </div><div class="line">  if(navigator) &#123;  </div><div class="line">      var route =&#123;  </div><div class="line">          name: &apos;ChooseItemComponent&apos;,  </div><div class="line">          component: ChooseItemComponent,  </div><div class="line">          params:&#123;  </div><div class="line">              title:&quot;选择页面&quot;,  </div><div class="line">              selectedItem:self.state.city,  </div><div class="line">              originList:cityList,  </div><div class="line">              getSelectedItem: function(selectedItem) &#123;  </div><div class="line">                InteractionManager.runAfterInteractions(() =&gt; &#123;  </div><div class="line">                  self.setState(&#123;  </div><div class="line">                      city: cityList[selectedItem],  </div><div class="line">                  &#125;)  </div><div class="line">                &#125;);  </div><div class="line">              &#125;  </div><div class="line">          &#125;,  </div><div class="line">          sceneConfig:Navigator.SceneConfigs.VerticalUpSwipeJump,  </div><div class="line">      &#125;;  </div><div class="line">      navigator.push(route);  </div><div class="line">  &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="返回-并传值给上个页面"><a href="#返回-并传值给上个页面" class="headerlink" title="返回 并传值给上个页面"></a>返回 并传值给上个页面</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">chooseItem(i)&#123;  </div><div class="line">  var  self = this ;  </div><div class="line">  InteractionManager.runAfterInteractions(() =&gt; &#123;  </div><div class="line">    self.setState(&#123;  </div><div class="line">        selectedItem:i,  </div><div class="line">    &#125;)  </div><div class="line">  &#125;);  </div><div class="line">  const &#123; navigator &#125; = this.props;  </div><div class="line">  // 这里通过判断props 中对应的方法是否存在 如果存在调用上个页面传过来的方法 实现回传值的功能</div><div class="line">  if(this.props.getSelectedItem)&#123;  </div><div class="line">    this.props.getSelectedItem(i);  </div><div class="line">  &#125;  </div><div class="line">  setTimeout(function()&#123;  </div><div class="line">    if(navigator) &#123;  </div><div class="line">        navigator.pop();  </div><div class="line">    &#125;  </div><div class="line">  &#125; ,500);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这里我们做了以下几件事：<br>1、修改本页面的状态机变量，通常表现为，选中某项后，显示一个对勾图片。（用户体验）<br>2、从props中获取Navigator，调用回调方法getSelectedItem，将值回传给parent。<br>3、pop掉本页面</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/22/RN与native交互之Callback、Promise/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/22/RN与native交互之Callback、Promise/" itemprop="url">
                  RN与native交互之Callback、Promise
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-22T14:56:34+08:00">
                2017-03-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/22/RN与native交互之Callback、Promise/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/22/RN与native交互之Callback、Promise/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="RN与native交互之Callback、Promise"><a href="#RN与native交互之Callback、Promise" class="headerlink" title="RN与native交互之Callback、Promise"></a>RN与native交互之Callback、Promise</h2><p>一、Callback机制<br>首先Calllback是异步的，RN端调用Native端，Native会callback，但是时机是不确定的，如果多次调用的话，会存在问题。<br>Naive端是无法主动通过回调函数向RN端发送消息的。<br>具体实现代码如下：<br>Native端暴露好接口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">@ReactMethod  </div><div class="line">public void measureLayout(Callback errorCallback,Callback successCallback)&#123;  </div><div class="line">    try &#123;  </div><div class="line">        successCallback.invoke(100, 100, 200, 200);//调用回调函数，返回结果  </div><div class="line">    &#125; catch (IllegalViewOperationException e) &#123;  </div><div class="line">        errorCallback.invoke(e.getMessage());  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在RN端：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;Text style=&#123;&#123; fontSize: 25 &#125;&#125; onPress=&#123;this.CallAndroid_callback&#125; &gt;调用原生方法_使用_回调函数</div><div class="line">&lt;/Text&gt;  </div><div class="line">  CallAndroid_callback = () =&gt; &#123;  </div><div class="line">    NativeModules.MyNativeModule.measureLayout((msg) =&gt; &#123;  </div><div class="line">        console.log(msg);  </div><div class="line">      &#125;,(x, y, width, height) =&gt; &#123;  </div><div class="line">        console.log(x + &apos;坐标,&apos; + y + &apos;坐标,&apos; + width + &apos;宽,&apos; + height + &apos;高&apos;);  </div><div class="line">      &#125;  </div><div class="line">    );  </div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>二、promise机制<br>Promise 的状态<br>一个 Promise 的当前状态必须为以下三种状态中的一种：等待态（Pending）、完成态（Fulfilled）和拒绝态（Rejected）。<br>等待态（Pending）<br>处于等待态时，promise 需满足以下条件：</p>
<p>可以迁移至完成态或拒绝态</p>
<p>完成态（Fulfilled）<br>处于完成态时，promise 需满足以下条件：<br>不能迁移至其他任何状态<br>必须拥有一个不可变的终值<br>拒绝态（Rejected）<br>处于拒绝态时，promise 需满足以下条件：</p>
<p>不能迁移至其他任何状态<br>必须拥有一个不可变的据因</p>
<p>在Native侧，暴露接口：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">@ReactMethod  </div><div class="line">public void rnCallNative_promise(String msg, Promise promise) &#123;  </div><div class="line">  </div><div class="line">    try &#123;  </div><div class="line">        //业务逻辑处理  </div><div class="line">        Toast.makeText(mContext, msg, Toast.LENGTH_SHORT).show();  </div><div class="line">        String componentName = getCurrentActivity().getComponentName().toString();  </div><div class="line">        promise.resolve(componentName);  </div><div class="line">    &#125;catch (Exception e)&#123;  </div><div class="line">        promise.reject(&quot;100&quot;,e.getMessage());//promise 失败  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在RN侧：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;Text style=&#123;&#123; fontSize: 25 &#125;&#125; onPress=&#123;this.CallAndroid_promise&#125; &gt;调用原生方法_使用_Promise</div><div class="line">&lt;/Text&gt;  </div><div class="line">  </div><div class="line">  CallAndroid_promise = () =&gt; &#123;  </div><div class="line">    NativeModules.MyNativeModule.rnCallNative_promise(&apos;参数1&apos;,&apos;参数2&apos;).then(  </div><div class="line">      (msg) =&gt; &#123;  </div><div class="line">        console.log(&apos;promise成功：&apos;+msg);  </div><div class="line">      &#125;  </div><div class="line">    ).catch(  </div><div class="line">      (err) =&gt; &#123;  </div><div class="line">        console.log(err);  </div><div class="line">      &#125;  </div><div class="line">      );  </div><div class="line">  &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/08/ReactNative-Text的属性和样式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/08/ReactNative-Text的属性和样式/" itemprop="url">
                  ReactNative_Text的属性和样式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-08T22:06:27+08:00">
                2017-03-08
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/08/ReactNative-Text的属性和样式/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/08/ReactNative-Text的属性和样式/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="RN-Text-基础属性-amp-样式"><a href="#RN-Text-基础属性-amp-样式" class="headerlink" title="RN Text 基础属性&amp;样式"></a>RN Text 基础属性&amp;样式</h2><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><ul>
<li>numberOfLines 文本行数限制，添加后超过限制行数文本会在末尾默认以…的形式省略。</li>
<li>ellipsizeMode 设置文本缩略格式，配合numberOfLines使用，values：<br>tail：在末尾…省略（默认值）<br>clip：在末尾切割，直接切割字符无省略符<br>head：在前面…省略<br>middle：在中间…省略</li>
<li>onPress 点击事件</li>
<li>style 样式</li>
</ul>
<h3 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h3><ul>
<li>color 字体颜色</li>
<li>fontSize 字体大小</li>
<li>fontFamily 字体</li>
<li>fontStyle 字的样式  （normal：正常italic：斜体）</li>
<li>fontWeight 设置粗体（normal：正常bold：粗体100，200，300， 400， 500， 600， 700， 800， 900）</li>
<li>lineHeight 行高</li>
<li>textAlign 文字对其方式（auto：自动对齐left：左对齐right：右对齐center：居中对齐）</li>
<li>textDecorationLine 下划线和删除线样式（none：无线 underline：下划线line-through：删除线</li>
<li>underline line-through：下划线和删除线）</li>
</ul>
<h2 id="RN-View的属性和样式"><a href="#RN-View的属性和样式" class="headerlink" title="RN View的属性和样式"></a>RN View的属性和样式</h2><h3 id="样式-1"><a href="#样式-1" class="headerlink" title="样式"></a>样式</h3><ul>
<li>width：宽度</li>
<li>height：高度</li>
<li>backgroundColor：背景颜色</li>
<li>backfaceVisibility：是否显示翻转’visible’，’hidden’</li>
<li>borderColor：边框颜色</li>
<li>borderWidth：边框宽度</li>
<li>borderRadius：边框圆角半径</li>
<li>borderStyle：边框样式’solid’实线，’dotted’点， ‘dashed’虚线</li>
<li>borderTopColor：上边框颜色</li>
<li>borderTopWidth：上边框宽度</li>
<li>borderTopLeftRadius：左上角边框圆角的半径</li>
<li>borderTopRightRadius：右上角边框圆角的半径</li>
<li>overflow：内容超过容器时超出显示还是隐藏’visible’， ‘hidden’</li>
<li>opacity：透明度</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/03/AndroidStudio中获取查看签名SHA1证书指纹数据或MD5的方法/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/03/AndroidStudio中获取查看签名SHA1证书指纹数据或MD5的方法/" itemprop="url">
                  AndroidStudio中获取查看签名SHA1证书指纹数据或MD5的方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-03T09:56:53+08:00">
                2017-03-03
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/03/AndroidStudio中获取查看签名SHA1证书指纹数据或MD5的方法/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/03/AndroidStudio中获取查看签名SHA1证书指纹数据或MD5的方法/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="AndroidStudio中获取查看签名SHA1证书指纹数据或MD5的方法"><a href="#AndroidStudio中获取查看签名SHA1证书指纹数据或MD5的方法" class="headerlink" title="AndroidStudio中获取查看签名SHA1证书指纹数据或MD5的方法"></a>AndroidStudio中获取查看签名SHA1证书指纹数据或MD5的方法</h2><p>AndroidStudio中获取查看签名SHA1证书指纹数据或MD5的方法</p>
<p>原来在Eclipse中获取SHA1或者MD5，在IDE界面上就可以查找到。<br>切换到Android Studio后，如何查看呢？找了半天没找到。那就老办法命令行。<br>第一步、打开Android Studio的Tools-&gt;Open Terminal…（新版本已经调整了位置，如下图所示）</p>
<p>第二步、输入命令：keytool -v -list -keystore <strong><em>.keystore<br>【一定要记得加上 -v 参数，不然只能看到SHA1，没有MD5】【</em></strong>.keystore，需要替换为你自己的密钥所在路径和文件名，也可以直接拷贝到.android目录】</p>
<p>备注:密钥文件一定要在当前目录，不在的话 自行cd 到指定目录即可</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/02/React-Native延迟加载数据/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/02/React-Native延迟加载数据/" itemprop="url">
                  React-Native延迟加载数据
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-02T22:01:17+08:00">
                2017-03-02
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/02/React-Native延迟加载数据/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/02/React-Native延迟加载数据/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="React-Native延迟加载数据"><a href="#React-Native延迟加载数据" class="headerlink" title="React-Native延迟加载数据"></a>React-Native延迟加载数据</h2><p>发现在componentDidMount 方法里面执行网络请求，获取数据成功后 更新UI，现象是从A页面跳转到B页面 跳转会存在明显的卡顿现象。</p>
<p>按照React-Native的生命周期调用规则，在setState之后，RN会依次调用shouldComponentUpdate -&gt; componentWillUpdate -&gt; render -&gt; componentDidUpdate生命周期方法。然而问题就出在state更新后调用render方法时，会停止当前Component进入屏幕时的滚动动画。造成新Component进入画面一半时停住，甚至新Component还没开始进入画面时就停住，等到componentDidUpdate执行完成后才继续向前滚动。严重影响使用体验。</p>
<p>这个时候我们就需要让这个state更新操作延迟进行。为了实现这个目的，可以使用RN提供的一个工具：InteractionManager<br> 从名称上可以看出，这是一个管理互动操作的工具。其中有一个方法runAfterInteraction（func）。这个方法用来标记参数中传入的方法在所有当前进行的交互和动画完成后再执行。可以理解为将func加入到一个等待队列。</p>
<p> 我们可以使用这个方法来避免在Component进入画面的动画完成前打断动画的问题。类似于这样：</p>
<p> componentDidMount() {<br>   InteractionManager.runAfterInteractions(()=&gt;{<br>      this._fetchData();<br>   });<br>}</p>
<p>这样，在Component进入画面的动画结束后，才会执行拉取数据的操作，这个逻辑才符合我们的预期。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/11/AndroidWebViewjs失效问题/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/11/AndroidWebViewjs失效问题/" itemprop="url">
                  AndroidWebViewjs失效问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-11T19:09:22+08:00">
                2017-01-11
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/01/11/AndroidWebViewjs失效问题/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/11/AndroidWebViewjs失效问题/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Android-WebView-js失效问题"><a href="#Android-WebView-js失效问题" class="headerlink" title="Android WebView js失效问题"></a>Android WebView js失效问题</h1><p>最近遇到一个很诡异的webview问题,当网页出现一次错误后 后面不管是恢复网络还是其他ok的页面 js都会加载不了<br>查了很多资料 没什么结果。<br>最后仔细思考后 看了下代码 在网页错误回调函数中发现调用了 mWebView.resumeTimers(); 方法。</p>
<p>然后看下API说明</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">public void pauseTimers ()</div><div class="line"></div><div class="line">Added in API level 1</div><div class="line">Pauses all layout, parsing, and JavaScript timers for all WebViews. This is a global requests, not restricted to just this WebView. This can be useful if the application has been paused.</div></pre></td></tr></table></figure>
<p>原来这个方法是全局生效的，会导致所有webview的js失效 终于解释了为什么一旦出现一次错误后 后续页面都加载不出来的问题了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/11/swift约束之SnapKit的使用一/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/11/swift约束之SnapKit的使用一/" itemprop="url">
                  swift约束之SnapKit的使用一
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-11T16:10:01+08:00">
                2017-01-11
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/01/11/swift约束之SnapKit的使用一/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/11/swift约束之SnapKit的使用一/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="swift约束之SnapKit的使用一"><a href="#swift约束之SnapKit的使用一" class="headerlink" title="swift约束之SnapKit的使用一"></a>swift约束之SnapKit的使用一</h1><p>SnapKit中的常用属性有：<br>top(上)、left(左)、right(右)、bottom(下)、width(长)、height(宽)、centerX(横向中点)、centerY(纵向中点)</p>
<h3 id="举个🌰"><a href="#举个🌰" class="headerlink" title="举个🌰"></a>举个🌰</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">view1.snp.makeConstraints &#123; (make) in</div><div class="line">            </div><div class="line">            //距self.view的上边20</div><div class="line">            make.top.equalTo(self.view).offset(20)</div><div class="line">            //距self.view的左边30</div><div class="line">            make.left.equalTo(self.view).offset(30)</div><div class="line">            //距self.view的右边30（右边数字前要加减号,不然会变成超出右边30）</div><div class="line">            make.right.equalTo(self.view).offset(-30)</div><div class="line">            //距self.view的下边50（下边数字前要加减号,不然会变成超出下边50）</div><div class="line">            make.bottom.equalTo(self.view).offset(-50)</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<h3 id="举个🌰-1"><a href="#举个🌰-1" class="headerlink" title="举个🌰"></a>举个🌰</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">view2.snp.makeConstraints &#123; (make) in</div><div class="line">            </div><div class="line">            //距view1的上边50</div><div class="line">            make.top.equalTo(view1).offset(50)</div><div class="line">            //距view1的左边50</div><div class="line">            make.left.equalTo(view1).offset(50)</div><div class="line">            //设置长为100</div><div class="line">            make.width.equalTo(100)</div><div class="line">            //设置高为60</div><div class="line">            make.height.equalTo(60)</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<h3 id="举个🌰-2"><a href="#举个🌰-2" class="headerlink" title="举个🌰"></a>举个🌰</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">view3.snp.makeConstraints &#123; (make) in</div><div class="line">            </div><div class="line">            //横向坐标等于view1</div><div class="line">            make.centerX.equalTo(view1)</div><div class="line">            //纵向坐标等于view1(横和纵都相等就等于对view1居中)</div><div class="line">            make.centerY.equalTo(view1)</div><div class="line">            //长等于view2的2倍</div><div class="line">            make.width.equalTo(view2).multipliedBy(2)</div><div class="line">            //高等于view2的3分之一</div><div class="line">            make.height.equalTo(view2).dividedBy(3)</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<p>以上就是基本的 Snapkit的使用，后续再更新….</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/davikchen_pic.jpg"
               alt="DavikChen" />
          <p class="site-author-name" itemprop="name">DavikChen</p>
          <p class="site-description motion-element" itemprop="description">记录在工作中遇到的各种技术问题</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">70</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">43</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DavikChen</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"davikchen"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>
