<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0">






<meta name="description" content="记录在工作中遇到的各种技术问题">
<meta property="og:type" content="website">
<meta property="og:title" content="带刀大哥">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="带刀大哥">
<meta property="og:description" content="记录在工作中遇到的各种技术问题">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="带刀大哥">
<meta name="twitter:description" content="记录在工作中遇到的各种技术问题">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/7/">





  <title> 带刀大哥 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">带刀大哥</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">DavikChen的技术博客</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/27/xml界面布局常用属性概括/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/27/xml界面布局常用属性概括/" itemprop="url">
                  xml界面布局常用属性概括
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-27T15:07:28+08:00">
                2017-03-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/27/xml界面布局常用属性概括/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/27/xml界面布局常用属性概括/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Android-布局使用mark"><a href="#Android-布局使用mark" class="headerlink" title="Android 布局使用mark"></a>Android 布局使用mark</h2><p>布局是开发中经常使用的，这里对经常使用的属性简单复习了下 算mark一下把 。免得忘记了 查起来方便<br>布局：<br>  在 Android 中我们常用的布局方式有这么几种：<br>1.LinearLayout ( 线性布局 ) ：(里面只可以有一个控件，并且不能设计这个控件的位置，控件会放到左上角)<br>                                           线性布局分为水平线性和垂直线性二者的属性分别为： android:orientation= “ horizontal “   android:orientation= “vertical” 。</p>
<p>2.RelativeLayout ( 相对布局 ) ： (里面可以放多个控件，但是一行只能放一个控件)<br>                                                  附加几类 RelativeLayout 的属性供大家参考：<br>第一类 : 属性值为 true 或 false<br>android:layout_centerHrizontal                   水平居中<br>android:layout_centerVertical                    垂直居中<br>android:layout_centerInparent                 相对于父元素完全居中<br>android:layout_alignParentBottom              贴紧父元素的下边缘<br>android:layout_alignParentLeft                 贴紧父元素的左边缘<br>android:layout_alignParentRight                贴紧父元素的右边缘<br>android:layout_alignParentTop                  贴紧父元素的上边缘<br>android:layout_alignWithParentIfMissing   若找不到兄弟元素以父元素做参照物</p>
<p>第二类：属性值必须为 id 的引用名“ @id/id-name ”<br>android:layout_below                          在某元素的下方<br>android:layout_above                          在某元素的上方<br>android:layout_toLeftOf                       在某元素的左边<br>android:layout_toRightOf                     在某元素的右边<br>android:layout_alignTop            本元素的上边缘和某元素的的上边缘对齐<br>android:layout_alignLeft           本元素的左边缘和某元素的的左边缘对齐<br>android:layout_alignBottom         本元素的下边缘和某元素的的下边缘对齐<br>android:layout_alignRight          本元素的右边缘和某元素的的右边缘对齐</p>
<p>第三类：属性值为具体的像素值，如 30dip ， 40px<br>android:layout_marginBottom              离某元素底边缘的距离<br>android:layout_marginLeft                 离某元素左边缘的距离<br>android:layout_marginRight                离某元素右边缘的距离<br>android:layout_marginTop                  离某元素上边缘的距离</p>
<p>3.TableLayout ( 表格布局 ) ： (这个要和TableRow配合使用，很像html里面的table)<br>                                             这个表格布局不像HTML中的表格那样灵活，只能通过 TableRow 属性来控制它的行而列的话里面有几个控件就是几列(一般情况)。 如：<br>                                                    <tablelayout><br><tablerow><br>                                                              <edittext></edittext><br>                                                              <edittext></edittext><br></tablerow><br><tablerow><br>                                                               <edittext></edittext><br>                                                               <edittext></edittext><br></tablerow><br></tablelayout><br>表示两行两列的一个表格。<br>android:gravity=”center” 书面解释是权重比。其时就是让它居中显示。它还可以动态添加里面的每行每列。如下代码所示:<br>/<em>根据id查找表格对象</em>/<br>TableLayout tableLayout = (TableLayout) findViewById(R.id.table01);<br>/<em>创建列对象</em>/<br>TableRow tableRow = new TableRow(this);<br>/<em>文本框对象</em>/<br>TextView temp = new TextView(this);<br>temp.setText(“text的值”);<br>/<em>将此文本添加到列中</em>/<br>tableRow.addView(temp);<br>android:stretchColumns=”1,2,3,4” 它的意思就是自动拉伸1,2,3,4列。</p>
<p>4.AbsoluteLayout ( 绝对布局 ) ： (里面可以放多个控件，并且可以自己定义控件的x,y的位置)<br>5.FrameLayout ( 帧布局 ) ：(里面可以放多个控件，不过控件的位置都是相对位置)<br>                               在它里面的控件都是按后面的一个控件叠加在前一个控件上来显示的,所有元素都被放置在最左上角。 如：<br>                                     <framelayout android:layout_width="wrap_content" android:layout_height="wrap_content" android:layout_weight="1"><br>                                              <imageview android:id="@+id/iv1" android:layout_width="wrap_content" android:layout_height="wrap_content" android:visibility="invisible" android:src="@drawable/lotusleaf"></imageview><br>                                             <imageview android:id="@+id/f1" android:layout_width="wrap_content" android:layout_height="wrap_content" android:src="@drawable/frog_right" android:visibility="invisible"></imageview><br>                                         </framelayout><br>表示的是id为f1的控件叠加在id为iv1的控件上面显示</p>
<p>(LinearLayout 和 RelativeLayout 应该又是其中用的较多的两种。AbsoluteLayout 比较少用，因为它是按屏幕的绝对位置来布局的如果屏幕大小发生改变的话控件的位置也发生了改变。这个就相当于HTML中的绝对布局一样，一般不推荐使用 )  </p>
<p>注意事项：<br>1 、各布局不要乱用各自的属性。比如把属于 AbsoluteLayout 布局的android:layout_x和android:layout_y用到 LinearLayout 布局或 RelativeLayout 布局，或者把 RelativeLayout 布局的 below ， rightof等属性应用到其他布局中。这样做虽然不会报错，但这是白浪费感情的工作，根本达不到我们需要的效果。<br>2 、关于android:layout_width=”fill_parent” 和 android:layout_height=”wrap_content” ，这是对每个布局宽和高的设置。 wrap_content 可表示随着其中控件的不同而改变这个布局的宽度或高度，类似于自动设置宽和高， fill_parent 使布局填充整个屏幕，另外还有一种 match_parent ，它本质上和 fill_parent 一样，并从 API  Level8 开始替代 fill_parent 。</p>
<p>TextView 的属性 :<br>android:autoLink              //设置是否当文本为URL链接/email/电话号码/map时，文本显示为可点击的链接。可选值(none/web /email/phone/map/all)<br>android:autoText                   //如果设置，将自动执行输入值的拼写纠正。此处无效果，在显示输入法并输入的时候起作用<br>android:bufferType               //指定getText()方式取得的文本类别。选项editable 类似于StringBuilder可追加字符，也就是说getText后可调用append方法设置文本内容。spannable 则可在给定的字符区域使用样式<br>android:capitalize                  //设置英文字母大写类型。此处无效果，需要弹出输入法才能看得到，参见EditView此属性说明<br>android:cursorVisible              //设定光标为显示/隐藏，默认显示<br>android:digits                     //设置允许输入哪些字符。如“1234567890.+-<em>/% ()”<br>android:drawableBottom         //在text的下方输出一个drawable，如图片。如果指定一个颜色的话会把text的背景设为该颜色，并且同时和background使用时覆盖后者<br>android:drawableLeft             //在text的左边输出一个drawable，如图片<br>android:drawablePadding         //设置text与drawable(图片)的间隔，与drawableLeft、 drawableRight、drawableTop、drawableBottom一起使用，可设置为负数，单独使用没有效果<br>android:drawableRight            //在text的右边输出一个drawable<br>android:drawableTop              //在text的正上方输出一个drawable<br>android:editable                   //设置是否可编辑<br>android:editorExtras              //设置文本的额外的输入数据<br>android:ellipsize                //设置当文字过长时,该控件该如何显示。有如下值设置：”start”—?省略号显示在开头;”end” ——省略号显示在结尾;”middle”—-省略号显示在中间;”marquee” ——以跑马灯的方式显示(动画横向移动)<br>android:freezesText               //设置保存文本的内容以及光标的位置<br>android:gravity                    //设置文本位置，如设置成“center”，文本将居中显示<br>android:hintText                 //为空时显示的文字提示信息，可通过textColorHint设置提示信息的颜色。此属性在 EditView中使用，但是这里也可以用<br>android:imeOptions                //附加功能，设置右下角IME动作与编辑框相关的动作，如actionDone右下角将显示一个“完成”，而不设置默认是一个回车符号。这个在EditView中再详细说明，此处无用<br>android:imeActionId                 //设置IME动作ID<br>android:imeActionLabel              //设置IME动作标签<br>android:includeFontPadding         //设置文本是否包含顶部和底部额外空白，默认为true<br>android:inputMethod                //为文本指定输入法，需要完全限定名(完整的包名)。例如：com.google.android.inputmethod.pinyin，但是这里报错找不到<br>android:inputType                    //设置文本的类型，用于帮助输入法显示合适的键盘类型。在EditView中再详细说明，这里无效果<br>android:linksClickable                //设置链接是否点击连接，即使设置了autoLink<br>android:marqueeRepeatLimit        //在ellipsize指定marquee的情况下，设置重复滚动的次数，当设置为 marquee_forever时表示无限次<br>android:ems                         //设置TextView的宽度为N个字符的宽度。这里测试为一个汉字字符宽度<br>android:maxEms                    //设置TextView的宽度为最长为N个字符的宽度。与ems同时使用时覆盖ems选项<br>android:maxLength                 //限制显示的文本长度，超出部分不显示<br>android:lines                        //设置文本的行数，设置两行就显示两行，即使第二行没有数据<br>android:maxLines                   //设置文本的最大显示行数，与width或者layout_width结合使用，超出部分自动换行，超出行数将不显示<br>android:minLines                    //设置文本的最小行数，与lines类似<br>android:lineSpacingExtra            //设置行间距<br>android:lineSpacingMultiplier        //设置行间距的倍数。如”$2<br>android:numeric                     //如果被设置，该TextView有一个数字输入法。此处无用，设置后唯一效果是TextView有点击效果，此属性在EdtiView将详细说明<br>android:password                    //以小点”.”显示文本 android:phoneNumber设置为电话号码的输入方式<br>android:privateImeOptions          //设置输入法选项，此处无用，在EditText将进一步讨论<br>android:scrollHorizontally            //设置文本超出TextView的宽度的情况下，是否出现横拉条<br>android:selectAllOnFocus              //如果文本是可选择的，让他获取焦点而不是将光标移动为文本的开始位置或者末尾位置。TextView中设置后无效果<br>android:shadowColor                //指定文本阴影的颜色，需要与shadowRadius一起使用<br>android:shadowDx                   //设置阴影横向坐标开始位置<br>android:shadowDy                   //设置阴影纵向坐标开始位置<br>android:shadowRadius                //设置阴影的半径。设置为0.1就变成字体的颜色了，一般设置为3.0的效果比较好<br>android:singleLine                     //设置单行显示。如果和layout_width一起使用，当文本不能全部显示时，后面用“…”来表示。如android:text=”test_ singleLine “ android:singleLine=”true” android:layout_width=”20dp”将只显示“t…”。如果不设置singleLine或者设置为false，文本将自动换行 android:text设置显示文本. android:textAppearance设置文字外观。如 “?android:attr/textAppearanceLargeInverse”这里引用的是系统自带的一个外观，?表示系统是否有这种外观，否 则使用默认的外观。可设置的值如下：textAppearanceButton/textAppearanceInverse /textAppearanceLarge/textAppearanceLargeInverse/textAppearanceMedium/textAppearanceMediumInverse/textAppearanceSmall/textAppearanceSmallInverse<br>android:textColor                    //设置文本颜色<br>android:textColorHighlight           //被选中文字的底色，默认为蓝色<br>android:textColorHint                //设置提示信息文字的颜色，默认为灰色。与hint一起使用。<br>android:textColorLink                //文字链接的颜色.<br>android:textScaleX                  //设置文字之间间隔，默认为$2。<br>android:textSize                      //设置文字大小，推荐度量单位”sp”，如”15sp”<br>android:textStyle                     //设置字形[bold(粗体) 0, italic(斜体) 1, bolditalic(又粗又斜) 2] 可以设置一个或多个，用“|”隔开<br>android:typeface                     //设置文本字体，必须是以下常量值之一：normal 0, sans 1, serif 2, monospace(等宽字体) 3]<br>android:height                       //设置文本区域的高度，支持度量单位：px(像素)/dp/sp/in/mm(毫米)<br>android:maxHeight                  //设置文本区域的最大高度<br>android:minHeight                   //设置文本区域的最小高度<br>android:width                        //设置文本区域的宽度，支持度量单位：px(像素)/dp/sp/in/mm(毫米)，与layout_width 的区别看这里<br>android:maxWidth                   //设置文本区域的最大宽度<br>android:minWidth                   //设置文本区域的最小宽度 android布局属性详解 RelativeLayout用到的一些重要的属性：第一类:属性值为true或false<br>android:layout_centerHrizontal         //水平居中<br>android:layout_centerVertical           //垂直居中<br>android:layout_centerInparent          //相对于父元素完全居中<br>android:layout_alignParentBottom       //贴紧父元素的下边缘<br>android:layout_alignParentLeft          //贴紧父元素的左边缘<br>android:layout_alignParentRight        //贴紧父元素的右边缘<br>android:layout_alignParentTop          //贴紧父元素的上边缘<br>android:layout_alignWithParentIfMissing      //如果对应的兄弟元素找不到的话就以父元素做参照物 第二类：属性值必须为id的引用名“@id/id-name”<br>android:layout_below                    //在某元素的下方<br>android:layout_above                    //在某元素的的上方<br>android:layout_toLeftOf                  //在某元素的左边<br>android:layout_toRightOf                //在某元素的右边<br>android:layout_alignTop                 //本元素的上边缘和某元素的的上边缘对齐<br>android:layout_alignLeft                //本元素的左边缘和某元素的的左边缘对齐<br>android:layout_alignBottom            //本元素的下边缘和某元素的的下边缘对齐<br>android:layout_alignRight              //本元素的右边缘和某元素的的右边缘对齐 第三类：属性值为具体的像素值，如30dip，40px<br>android:layout_marginBottom         //离某元素底边缘的距离<br>android:layout_marginLeft             //离某元素左边缘的距离<br>android:layout_marginRight            //离某元素右边缘的距离<br>android:layout_marginTop              //离某元素上边缘的距离 EditText的android:hint 设置EditText为空时输入框内的提示信息　<br>android:gravity                         //属性是对该view 内容的限定．比如一个button 上面的text. 你可以设置该text 在view的靠左，靠右等位置．以button为例，android:gravity=”right”则button上面的文字靠右 android:layout_gravity android:layout_gravity是用来设置该view相对与起父view 的位置．比如一个button 在linearlayout里，你想把该button放在靠左、靠右等位置就可以通过该属性设置．以button为 例，android:layout_gravity=”right”则button靠右 android:layout_alignParentRight 使当前控件的右端和父控件的右端对齐。这里属性值只能为true或false，默认false。 android:scaleType： android:scaleType是控制图片如何resized/moved来匹对ImageView的size。 ImageView.ScaleType / android:scaleType值的意义区别： CENTER /center 按图片的原来size居中显示，当图片长/宽超过View的长/宽，则截取图片的居中部分显示 CENTER_CROP / centerCrop 按比例扩大图片的size居中显示，使得图片长(宽)等于或大于View的长(宽) CENTER_INSIDE / centerInside 将图片的内容完整居中显示，通过按比例缩小或原来的size使得图片长/宽等于或小于View的长/宽 FIT_CENTER / fitCenter 把图片按比例扩大/缩小到View的宽度，居中显示 FIT_END / fitEnd 把图片按比例扩大/缩小到View的宽度，显示在View的下部分位置 FIT_START / fitStart 把图片按比例扩大/缩小到View的宽度，显示在View的上部分位置 FIT_XY / fitXY 把图片不按比例扩大/缩小到View的大小显示 MATRIX / matrix 用矩阵来绘制，动态缩小放大图片来显示。 *</em> </p>
<p>要注意一点，Drawable文件夹里面的图片命名是不能大写的</p>
<p>Edittext 的属性 :<br>EditText继承关系：View–&gt;TextView–&gt;EditText。 EditText 的属性很多，这里介绍几个：            android:layout_gravity=”center_vertical”      //设置控件显示的位置：默认top，这里居中显示，还有bottom         android:hint=”请输入数字！”                  //设置显示在空间上的提示信息         android:numeric=”integer”                    //设置只能输入整数，如果是小数则是：decimal         android:singleLine=”true”                     //设置单行输入，一旦设置为true，则文字不会自动换行。         android:password=”true”                     //设置只能输入密码         android:textColor = “#ff$200”                 //字体颜色         android:textStyle=”bold”                      //字体，bold, italic, bolditalic         android:textSize=”20dip”                     //大小         android:capitalize = “characters”              //以大写字母写         android:textAlign=”center”                    //EditText没有这个属性，但TextView有，居中         android:textColorHighlight=”#cccccc”         //被选中文字的底色，默认为蓝色         android:textColorHint=”#ffff00”               //设置提示信息文字的颜色，默认为灰色         android:textScaleX=”1.5”                    //控制字与字之间的间距         android:typeface=”monospace”              //字型，normal, sans, serif, monospace         android:background=”@null”                 //空间背景，这里没有，指透明         android:layout_weight=”1”                   //权重，控制控件之间的地位,在控制控件显示的大小时蛮有用的。         android:textAppearance=”?android:attr/textAppearanceLargeInverse”</p>
<p> 1.EditText默认不弹出软件键盘<br>    方法一：<br>          在 AndroidMainfest.xml中选择哪个activity，设置windowSoftInputMode属性为 adjustUnspecified|stateHidden<br>                   android:windowSoftInputMode=”adjustUnspecified|stateHidden”<br>    方法二：<br>         让 EditText失去焦点，使用EditText的clearFocus方法<br>            edit.clearFocus();<br>    方法三：<br>         强制隐藏Android输入法窗口<br>         例如：EditText edit=(EditText)findViewById(R.id.edit);<br>           InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);<br>           imm.hideSoftInputFromWindow(edit.getWindowToken(),0);<br>    2.EditText始终不弹出软件键盘<br>        例：EditText edit=(EditText)findViewById(R.id.edit);<br>          edit.setInputType(InputType.TYPE_NULL);</p>
<p>Button 继承自 VIEW , VIEW 有的属性它都能用 <?xml version="1.0" encoding="utf-8"?><br><selector xmlns:android="http://schemas.android.com/apk/res/android"><br><item android:state_pressed="true"> （这里的样式是当按钮被按下时的显示）<br><shape><br><gradient android:startcolor="@drawable/gray" android:endcolor="@drawable/white" android:angle="*"><br><stroke android:width="*dp" android:color="@drawable/teal"><br><corners android:radius="*dp"><br><padding android:left="**dp" android:top="*dp" android:right="**dp" android:bottom="*dp"><br></padding></corners></stroke></gradient></shape><br></item></selector></p>
<p><item android:state_focused="true">（这里的样式是移动到按钮时的显示）<br><shape><br><gradient android:startcolor="@drawable/silver" android:endcolor="@drawable/springgreen" android:angle="*"><br><stroke android:width="*dp" android:color="@drawable/teal"><br><corners android:radius="*dp"><br><padding android:left="**dp" android:top="*dp" android:right="**dp" android:bottom="*dp"><br></padding></corners></stroke></gradient></shape><br></item></p>
<p><item> （这里的样式是按钮正常时的显示）<br><shape><br><gradient android:startcolor="@drawable/silver" android:endcolor="@drawable/snow" android:angle="*"><br><stroke android:width="*dp" android:color="@drawable/teal"><br><corners android:radius="*dp"><br><padding android:left="**dp" android:top="*dp" android:right="**dp" android:bottom="*dp"><br></padding></corners></stroke></gradient></shape><br></item><br><br>注：<br><padding android:left="**dp" android:top="*dp" android:right="**dp" android:bottom="*dp"><br>这里 left 和 right 控制的是 Button 上的字体与按钮的左边缘和右边缘的距离，也就是控制按钮是长还是短；这里的 top 和 bottom 控制的是 Button 上的字体与按钮的上边缘和下边缘的距离，也就是控制按钮时高还是矮。</padding></p>
<p>Shape 样式圆滑效果：<br><?xml version="1.0" encoding="UTF-8"?><br><shape xmlns:android="http://schemas.android.com/apk/res/android"><br><solid android:color><br><stroke android:width="*dp" android:color=" "><br><padding android:left="*dp" android:top="*dp" android:right="*dp" android:bottom="*dp"><br><corners android:radius="*dp"><br></corners></padding></stroke></solid></shape><br>CheckBox<br>RadioGroup<br>Spinner<br>TimePicker<br>ScrollView<br>ProgressBar<br>RatingBar<br>ImageView<br>ImageButton      android:background=”#00000000”     //设置背景图空白的部分直接透视背景<br>ImageSwicher&amp;Gallery<br>GradView<br>Tab<br>Menu<br>出处：<a href="http://www.cnblogs.com/awenhome/archive/2011/12/29/2305813.html" target="_blank" rel="noopener">http://www.cnblogs.com/awenhome/archive/2011/12/29/2305813.html</a><br>动态添加spinner的item<br><a href="http://blog.csdn.net/tanjunjie621/article/details/6747824" target="_blank" rel="noopener">http://blog.csdn.net/tanjunjie621/article/details/6747824</a><br><a href="http://www.cnblogs.com/jiayonghua/archive/2011/12/05/2276532.html" target="_blank" rel="noopener">http://www.cnblogs.com/jiayonghua/archive/2011/12/05/2276532.html</a><br><a href="http://www.eoeandroid.com/blog-115192-566.html" target="_blank" rel="noopener">http://www.eoeandroid.com/blog-115192-566.html</a></p>
<p>android 属性介绍<br>android:scaleType：<br>　　android:scaleType是控制图片如何resized/moved来匹对ImageView的size。ImageView.ScaleType / android:scaleType值的意义区别：<br>　　CENTER /center                     　 按图片的原来size居中显示，当图片长/宽超过View的长/宽，则截取图片的居中部分显示<br>　　CENTER_CROP / centerCrop 　　 按比例扩大图片的size居中显示，使得图片长(宽)等于或大于View的长(宽)<br>　　CENTER_INSIDE / centerInside    将图片的内容完整居中显示，通过按比例缩小或原来的size使得图片长/宽等于或小于View的长/宽<br>　　FIT_CENTER / fitCenter  　　　　 把图片按比例扩大/缩小到View的宽度，居中显示<br>　　FIT_END / fitEnd   　　　　　　　 把图片按比例扩大/缩小到View的宽度，显示在View的下部分位置<br>　　FIT_START / fitStart  　　　　　　把图片按比例扩大/缩小到View的宽度，显示在View的上部分位置<br>　　FIT_XY / fitXY  　　　　　　　　　 把图片不按比例扩大/缩小到View的大小显示<br>　　MATRIX / matrix 　　　　　　　　用矩阵来绘制，动态缩小放大图片来显示。<br>android:stackFromBottom:<br>　　这只该属性之后你做好的列表就会显示你列表的最下面，值为true和false<br>android:transciptMode:<br>　　需要用ListView或者其它显示大量Items的控件实时跟踪或者查看信息，并且希望最新的条目可以自动滚动到可视范围内。通过设置的控件transcriptMode属性可以将Android平　　　　　　　　　　　　　　       台的控件（支持ScrollBar）自动滑动到最底部。<br>android:cacheColorHint:<br>　　很多人希望能够改变一下它的背景，使他能够符合整体的UI设计，改变背景背很简单只需要准备一张图片然后指定属性 android:background=”@drawable/bg”，不过不要高兴地　　       太早，当你这么做以后，发现背景是变了，但是当你拖动，或者点击list空白位置的时候发现ListItem都变成黑色的了，破坏了整体效果。<br>       如果你只是换背景的颜色的话，可以直接指定android:cacheColorHint为你所要的颜色，如果你是用图片做背景的话，那也只要将android:cacheColorHint指定为透明      （ #00000000）就可以了<br>android:divider:<br> 　　该属性作用是每一项之间需要设置一个图片做为间隔，或是去掉item之间的分割线<br> 　　android:divider=”@drawable/list_driver”  其中  @drawable/list_driver 是一个图片资源，如果不想显示分割线则只要设置为android:divider=”@drawable/@null” 就可以了<br> android：fadingEdge：<br>　　上边和下边有黑色的阴影<br>　　android:fadingEdge=”none” 设置后没有阴影了~<br> android:scrollbars:<br>　　作用是隐藏listView的滚动条，<br>　　android:scrollbars=”none”与setVerticalScrollBarEnabled(true);的效果是一样的，不活动的时候隐藏，活动的时候也隐藏<br>android:fadeScrollbars:<br>　　android:fadeScrollbars=”true”  配置ListView布局的时候，设置这个属性为true就可以实现滚动条的自动隐藏和显示。<br>android:listSelector:<br>　　 设置选中颜色<br> android:footerDividersEnabled :<br>　　设成flase时，此ListView将不会在页脚视图前画分隔符。此属性缺省值为true</p>
<p>android:headerDividersEnabled:<br>　　设成flase时，此ListView将不会在页眉视图前画分隔符。此属性缺省值为true<br> android:soundEffectsEnabled:<br>　　点击和触摸时是否有声音效果<br>android:duplicateParentState:<br>　　如果设置此属性，将直接从父容器中获取绘图状态（光标，按下等）。 注意仅仅是获取绘图状态，而没有获取事件，也就是你点一下LinearLayout时Button有被点击的效果，但是不执行点击事件。
　　
　　</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/27/Android打开应用市场code/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/27/Android打开应用市场code/" itemprop="url">
                  Android打开应用市场code
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-27T14:40:10+08:00">
                2017-03-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/27/Android打开应用市场code/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/27/Android打开应用市场code/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Android打开应用市场code"><a href="#Android打开应用市场code" class="headerlink" title="Android打开应用市场code"></a>Android打开应用市场code</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">     * 进入市场并进入本应用的页面</span><br><span class="line">     * @param mContext 上下文</span><br><span class="line">     */</span><br><span class="line">    public static void enterMarket(Context mContext) &#123;</span><br><span class="line">	    Intent intent = new Intent(Intent.ACTION_VIEW);</span><br><span class="line">	    intent.setData(Uri.parse(&quot;market://details?id=&quot; + mContext.getPackageName()));</span><br><span class="line">	    mContext.startActivity(Intent.createChooser(intent, &quot;请选择要查看的市场软件&quot;));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/27/RN-WebStorm的基本配置/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/27/RN-WebStorm的基本配置/" itemprop="url">
                  RN_WebStorm的基本配置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-27T14:04:25+08:00">
                2017-03-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/27/RN-WebStorm的基本配置/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/27/RN-WebStorm的基本配置/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="RN-WebStorm的基本配置"><a href="#RN-WebStorm的基本配置" class="headerlink" title="RN_WebStorm的基本配置"></a>RN_WebStorm的基本配置</h2><p>转 <a href="http://blog.csdn.net/gz_jero/article/details/51503374" target="_blank" rel="noopener">http://blog.csdn.net/gz_jero/article/details/51503374</a><br>介绍了使用WebStorm 来开发RN 项目的基本配置 </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/27/RN组件封装-组合样式-父子组件通信/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/27/RN组件封装-组合样式-父子组件通信/" itemprop="url">
                  RN组件封装/组合样式/父子组件通信
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-27T13:45:45+08:00">
                2017-03-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/27/RN组件封装-组合样式-父子组件通信/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/27/RN组件封装-组合样式-父子组件通信/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="RN组件封装-组合样式-父子组件通信"><a href="#RN组件封装-组合样式-父子组件通信" class="headerlink" title="RN组件封装/组合样式/父子组件通信"></a>RN组件封装/组合样式/父子组件通信</h2><ol>
<li>对外共享关键字</li>
</ol>
<p>在对外共享的组件一定要在创建类时声明对外共享的关键字:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export default class</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>使用多种样式</li>
</ol>
<p>在标签上使用多个css样式的时候要用[]给括起来，并且行内样式的优先级大于StyleSheet定义的样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">style=&#123;[styles.button, &#123;backgroundColor: this.props.bg&#125;]</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>父-&gt;子组件传值</li>
</ol>
<p>在父组件的标签中直接定义props和值： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如text、bg、click等。另外也可以传递对象值。</span><br><span class="line">&lt;Button text=&quot;确定&quot; bg=&quot;red&quot; click=&#123;() =&gt; alert(&apos;点击了确定按钮&apos;)&#125;/&gt;</span><br></pre></td></tr></table></figure>

<p>在子组件中使用解构来获取porps传递过来的值并使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const &#123;text, bg&#125; = this.props;</span><br><span class="line">const &#123;click&#125; = this.props;</span><br><span class="line"></span><br><span class="line"> &lt;TouchableOpacity style=&#123;[styles.button, &#123;backgroundColor: this.props.bg&#125;]&#125; onPress=&#123;this.onPressHandler&#125; &gt;</span><br><span class="line">        &lt;Text style=&#123;styles.buttonText&#125;&gt;&#123;this.props.text&#125;&lt;/Text&gt;</span><br><span class="line">&lt;/TouchableOpacity&gt;</span><br></pre></td></tr></table></figure>

<h3 id="子组件代码"><a href="#子组件代码" class="headerlink" title="子组件代码"></a>子组件代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    StyleSheet,</span><br><span class="line">    View,</span><br><span class="line">    Text,</span><br><span class="line">    TouchableOpacity,</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">export default class Button extends Component &#123;</span><br><span class="line">    onPressHandler = () =&gt; &#123;</span><br><span class="line">        const &#123;click&#125; = this.props;</span><br><span class="line">        click();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        // 利用解构取出需要的值</span><br><span class="line">        const &#123;text, bg&#125; = this.props;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">                &#123; /* 在标签上使用多个css样式的时候要用[]给括起来，并且行内样式的优先级大于StyleSheet定义的样式 */ &#125;</span><br><span class="line">                &lt;TouchableOpacity style=&#123;[styles.button, &#123;backgroundColor: this.props.bg&#125;]&#125;</span><br><span class="line">                                  onPress=&#123;this.onPressHandler&#125;&gt;</span><br><span class="line">                    &lt;Text style=&#123;styles.buttonText&#125;&gt;&#123;this.props.text&#125;&lt;/Text&gt;</span><br><span class="line">                &lt;/TouchableOpacity&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    container: &#123;&#125;,</span><br><span class="line">    button: &#123;</span><br><span class="line">        backgroundColor: &apos;gray&apos;,</span><br><span class="line">        borderRadius: 20,</span><br><span class="line">        padding: 10,</span><br><span class="line">        width: 100,</span><br><span class="line">        justifyContent: &apos;center&apos;,</span><br><span class="line">        margin: 20,</span><br><span class="line">    &#125;,</span><br><span class="line">    buttonText: &#123;</span><br><span class="line">        textAlign: &apos;center&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="父组件调用子组件并且传值"><a href="#父组件调用子组件并且传值" class="headerlink" title="父组件调用子组件并且传值"></a>父组件调用子组件并且传值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    View,</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">//  导入button组件</span><br><span class="line">import Button from &apos;./src/components/Button&apos;</span><br><span class="line"></span><br><span class="line">export default class ButtonDemo extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">                &lt;Button text=&quot;确定&quot; bg=&quot;red&quot; click=&#123;() =&gt; alert(&apos;点击了确定按钮&apos;)&#125;/&gt;</span><br><span class="line">                &lt;Button text=&quot;取消&quot; bg=&quot;blue&quot;  click=&#123;() =&gt; alert(&apos;点击了取消按钮&apos;)&#125;/&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    container: &#123;</span><br><span class="line">        flex: 1,</span><br><span class="line">        justifyContent: &apos;center&apos;,</span><br><span class="line">        alignItems: &apos;center&apos;,</span><br><span class="line">        backgroundColor: &apos;#F5FCFF&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&apos;ButtomDemo&apos;, () =&gt; ButtomDemo);</span><br></pre></td></tr></table></figure>

<p>这也是我们经常封装一个组件 实现组件共用的常见做法。更复杂的 可能还需要考虑iOS Android 平台的兼容 扩展性 稳定性等问题。这里只是给个简单的例子 </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/27/AndroidLogUtils/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/27/AndroidLogUtils/" itemprop="url">
                  AndroidLogUtils
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-27T11:39:56+08:00">
                2017-03-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/27/AndroidLogUtils/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/27/AndroidLogUtils/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Android-简单的日志LogUtils"><a href="#Android-简单的日志LogUtils" class="headerlink" title="Android 简单的日志LogUtils"></a>Android 简单的日志LogUtils</h2><p>日常开发中 大家都用到了日志打印这个功能，提供提供的日志打印 已经非常OK了，这里针对自己日常使用习惯 简单分支了一个日志工具类 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * log日志打印工具</span><br><span class="line"> */</span><br><span class="line">public class LogUtils &#123;</span><br><span class="line">    private String message = null;</span><br><span class="line">    private String tag = null;</span><br><span class="line">    public static int LEVEL_I = 0;</span><br><span class="line">    public static int LEVEL_D = 1;</span><br><span class="line">    public static int LEVEL_W = 2;</span><br><span class="line">    public static int LEVEL_E = 3;</span><br><span class="line">    private int levelCode = LEVEL_I;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 设置TAG和日志等级</span><br><span class="line">     *</span><br><span class="line">     * @param tag       设置TAG标签，方便过滤。为空则默认使用LogUtils的类名作为打印的TAG。</span><br><span class="line">     * @param levelCode 要打印的日志等级码，&#123;@link #LEVEL_I&#125;、&#123;@link #LEVEL_D&#125;、&#123;@link #LEVEL_W&#125;、   &#123;@link #LEVEL_E&#125;</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static LogUtils init(String tag, int levelCode) &#123;</span><br><span class="line">        LogUtils instance = new LogUtils();</span><br><span class="line">        // 初始化tag</span><br><span class="line">        if (TextUtils.isEmpty(tag))</span><br><span class="line">            tag = LogUtils.class.getName();</span><br><span class="line">        instance.tag = tag;</span><br><span class="line">        // 初始化message</span><br><span class="line">        if (instance.message == null)</span><br><span class="line">            instance.message = &quot;&quot;;</span><br><span class="line">        // 初始化等级</span><br><span class="line">        if (levelCode &lt; LEVEL_I)</span><br><span class="line">            levelCode = LEVEL_I;</span><br><span class="line">        else if (levelCode &gt; LEVEL_E)</span><br><span class="line">            levelCode = LEVEL_E;</span><br><span class="line">        instance.levelCode = levelCode;</span><br><span class="line"></span><br><span class="line">        return instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 添加一个key : value形式的log</span><br><span class="line">     * @param key 键</span><br><span class="line">     * @param value 值</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public LogUtils append(String key, String value) &#123;</span><br><span class="line">        message += &quot; &quot; + key + &quot; : &quot; + value + &quot; ,&quot;;</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 添加一个仅有值的log</span><br><span class="line">     * @param value 值</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public LogUtils append(String value) &#123;</span><br><span class="line">        message += &quot; &quot; + value + &quot; ,&quot;;</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * log打印终止方法</span><br><span class="line">     */</span><br><span class="line">    public void print() &#123;</span><br><span class="line">        message = message.substring(0, message.lastIndexOf(&quot;,&quot;)) + &quot;。&quot;;</span><br><span class="line">        Log.e(tag, message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里append 方法返回了log对象本身 因此可以链式调用 如下 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LogUtils.init(TAG, LogUtils.LEVEL_E)</span><br><span class="line">         .append(&quot;打印等级为ERROR的一条日志&quot;)</span><br><span class="line">         .append(&quot;key&quot;, &quot;value&quot;)</span><br><span class="line">         .print();</span><br></pre></td></tr></table></figure>


          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/25/ReactNative之键盘Keyboard隐藏/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/25/ReactNative之键盘Keyboard隐藏/" itemprop="url">
                  ReactNative之键盘Keyboard隐藏
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-25T13:51:51+08:00">
                2017-03-25
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/25/ReactNative之键盘Keyboard隐藏/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/25/ReactNative之键盘Keyboard隐藏/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ReactNative之键盘Keyboard隐藏"><a href="#ReactNative之键盘Keyboard隐藏" class="headerlink" title="ReactNative之键盘Keyboard隐藏"></a>ReactNative之键盘Keyboard隐藏</h3><p>今天我们来说下RN对键盘事件的支持。<br>在React-native 的Component组件中有个Keyboard.<br>github地址如下：<a href="https://github.com/facebook/react-native/tree/770091f3c13f7c1bd77c50f979d89a774001fbf0/Libraries/Components/Keyboard" target="_blank" rel="noopener">https://github.com/facebook/react-native/tree/770091f3c13f7c1bd77c50f979d89a774001fbf0/Libraries/Components/Keyboard</a></p>
<p>Android 对keyboardWillShow 监听不到。</p>
<p>同样，我们在源码里可以找到使键盘消失的函数</p>
<pre><code>//  定义对象
const dismissKeyboard = require(&apos;dismissKeyboard’);  
// 在需要用到的地方 调用
dismissKeyboard();  </code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/24/基于Fetch简单封装工具类/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/24/基于Fetch简单封装工具类/" itemprop="url">
                  基于Fetch简单封装工具类
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-24T17:55:48+08:00">
                2017-03-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/24/基于Fetch简单封装工具类/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/24/基于Fetch简单封装工具类/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="基于Fetch简单封装工具类"><a href="#基于Fetch简单封装工具类" class="headerlink" title="基于Fetch简单封装工具类"></a>基于Fetch简单封装工具类</h2><p>在开始写APP时 往往会设计到网络请求 ，下面是RN中简单基于Fetch 封装的request工具类<br>通过简单封装了一个，避免代码里到处都是fetch方法。<br>好了，完整代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">var HTTPUtil = &#123;&#125;;  </span><br><span class="line">  </span><br><span class="line">/** </span><br><span class="line"> * 基于 fetch 封装的 GET请求 </span><br><span class="line"> * @param url </span><br><span class="line"> * @param params &#123;&#125; </span><br><span class="line"> * @param headers </span><br><span class="line"> * @returns &#123;Promise&#125; </span><br><span class="line"> */  </span><br><span class="line">HTTPUtil.get = function(url, params, headers) &#123;  </span><br><span class="line">    if (params) &#123;  </span><br><span class="line">        let paramsArray = [];  </span><br><span class="line">        //encodeURIComponent  </span><br><span class="line">        Object.keys(params).forEach(key =&gt; paramsArray.push(key + &apos;=&apos; + params[key]))  </span><br><span class="line">        if (url.search(/\?/) === -1) &#123;  </span><br><span class="line">            url += &apos;?&apos; + paramsArray.join(&apos;&amp;&apos;)  </span><br><span class="line">        &#125; else &#123;  </span><br><span class="line">            url += &apos;&amp;&apos; + paramsArray.join(&apos;&amp;&apos;)  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    return new Promise(function (resolve, reject) &#123;  </span><br><span class="line">      fetch(url, &#123;  </span><br><span class="line">            method: &apos;GET&apos;,  </span><br><span class="line">            headers: headers,  </span><br><span class="line">          &#125;)  </span><br><span class="line">          .then((response) =&gt; &#123;  </span><br><span class="line">              if (response.ok) &#123;  </span><br><span class="line">                  return response.json();  </span><br><span class="line">              &#125; else &#123;  </span><br><span class="line">                  reject(&#123;status:response.status&#125;)  </span><br><span class="line">              &#125;  </span><br><span class="line">          &#125;)  </span><br><span class="line">          .then((response) =&gt; &#123;  </span><br><span class="line">              resolve(response);  </span><br><span class="line">          &#125;)  </span><br><span class="line">          .catch((err)=&gt; &#123;  </span><br><span class="line">            reject(&#123;status:-1&#125;);  </span><br><span class="line">          &#125;)  </span><br><span class="line">    &#125;)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">/** </span><br><span class="line"> * 基于 fetch 封装的 POST请求  FormData 表单数据 </span><br><span class="line"> * @param url </span><br><span class="line"> * @param formData   </span><br><span class="line"> * @param headers </span><br><span class="line"> * @returns &#123;Promise&#125; </span><br><span class="line"> */  </span><br><span class="line">HTTPUtil.post = function(url, formData, headers) &#123;  </span><br><span class="line">    return new Promise(function (resolve, reject) &#123;  </span><br><span class="line">      fetch(url, &#123;  </span><br><span class="line">            method: &apos;POST&apos;,  </span><br><span class="line">            headers: headers,  </span><br><span class="line">            body:formData,  </span><br><span class="line">          &#125;)  </span><br><span class="line">          .then((response) =&gt; &#123;  </span><br><span class="line">              if (response.ok) &#123;  </span><br><span class="line">                  return response.json();  </span><br><span class="line">              &#125; else &#123;  </span><br><span class="line">                  reject(&#123;status:response.status&#125;)  </span><br><span class="line">              &#125;  </span><br><span class="line">          &#125;)  </span><br><span class="line">          .then((response) =&gt; &#123;  </span><br><span class="line">              resolve(response);  </span><br><span class="line">          &#125;)  </span><br><span class="line">          .catch((err)=&gt; &#123;  </span><br><span class="line">            reject(&#123;status:-1&#125;);  </span><br><span class="line">          &#125;)  </span><br><span class="line">    &#125;)  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">export default HTTPUtil;</span><br></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">let formData = new FormData();  </span><br><span class="line">formData.append(&quot;id&quot;,1060);  </span><br><span class="line">        </span><br><span class="line">HTTPUtil.post(url,formData,headers).then((json) =&gt; &#123;  </span><br><span class="line">    //处理 请求success  </span><br><span class="line">    if(json.code === 0 )&#123;  </span><br><span class="line">            //我们假设业务定义code为0时，数据正常  </span><br><span class="line">        &#125;else&#123;  </span><br><span class="line">             //处理自定义异常  </span><br><span class="line">            this.doException(json);  </span><br><span class="line">        &#125;  </span><br><span class="line">   &#125;,(json)=&gt;&#123;  </span><br><span class="line">     //TODO 处理请求fail  </span><br><span class="line">        </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>继续封装：<br>一般APP会存在很多业务接口，这里还需要封装一个ApiUtils 工具类，在这里面进行默认公共参数的组织 接口地址的拼接 header的设置。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/24/Fetch发送POST请求body参数内容的不同情况/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/24/Fetch发送POST请求body参数内容的不同情况/" itemprop="url">
                  Fetch发送POST请求body参数内容的不同情况
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-24T17:48:14+08:00">
                2017-03-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/24/Fetch发送POST请求body参数内容的不同情况/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/24/Fetch发送POST请求body参数内容的不同情况/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Fetch发送POST请求body参数内容的不同情况"><a href="#Fetch发送POST请求body参数内容的不同情况" class="headerlink" title="Fetch发送POST请求body参数内容的不同情况"></a>Fetch发送POST请求body参数内容的不同情况</h2><p>我们在请求http接口时候，通常都会使用get和post的方式，针对表单提交这类的请求，我们通常采用post方式。<br>那么在RN中的Fetch API中post提交有哪些坑呢？让我们撸起来。<br>我们先来说说Server端的代码，通常我们从Request获取参数时的方法为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String paraValue = request.getParameter(paraName); </span><br><span class="line">``` </span><br><span class="line">我们下面说的判断能不能获取参数，就是按照这种方法来获取。</span><br><span class="line"></span><br><span class="line">在 RN中，通常我们会怎么写代码呢？</span><br><span class="line"></span><br><span class="line">方式一：</span><br></pre></td></tr></table></figure>

<p>let url = “<a href="http://127.0.0.1:8080/api/”" target="_blank" rel="noopener">http://127.0.0.1:8080/api/”</a><br>let params = “name=admin&amp;password=admin123”;<br>fetch(url , {<br>  method: ‘POST’,<br>  headers: {},<br>  body: params,<br>}).then((response) =&gt; {<br>  if (response.ok) {<br>      return response.json();<br>  }<br>}).then((json) =&gt; {<br>  alert(JSON.stringify(json));<br>}).catch((error) =&gt; {<br>  console.error(error);<br>}); </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">方式二：</span><br></pre></td></tr></table></figure>

<p>let params = {“name”:”admin”,”password”:”admin123”};<br>fetch(url , {<br>  method: ‘POST’,<br>  headers: {},<br>  body:JSON.stringify(params),<br>}).then((response) =&gt; {<br>  if (response.ok) {<br>      return response.json();<br>  }<br>}).then((json) =&gt; {<br>  alert(JSON.stringify(json));<br>}).catch((error) =&gt; {<br>  console.error(error);<br>});  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">通过以上方式发起请求 发现后端接口无法接受到参数值,经过联调发现参数传递的方式存在问题。</span><br><span class="line"></span><br><span class="line">通过代理工具进行抓包 同样也看到 参数都是以字符文本形式传给后端的。不是我们正常的表单请求 </span><br><span class="line"></span><br><span class="line">备注:也许你会问在jquery中，我们就是按照方案一这种方式做的啊，怎么好使呢？</span><br><span class="line">答：因为参数 &quot;name=admin&amp;password=admin123” 在jquery中，传入对象框架会自动封装成formData的形式，fetch没有这个功能。</span><br><span class="line"></span><br><span class="line">既然fetch不会自动转FormData，那我们自己new一个FormData，直接传给body。</span><br><span class="line">在FormData中也可以传递字节流实现上传图片的功能</span><br></pre></td></tr></table></figure>

<p>let formData = new FormData();<br>formData.append(“name”,”admin”);<br>formData.append(“password”,”admin123”);  </p>
<p>fetch(url , {<br> method: ‘POST’,<br> headers: {},<br> body: formData,<br>).then((response) =&gt; {<br> if (response.ok) {<br>     return response.json();<br> }<br>).then((json) =&gt; {<br> alert(JSON.stringify(json));<br>).catch((error) =&gt; {<br> console.error(error);<br>); </p>
<pre><code>这样我们就可以在Server端获取到name和password的值了。
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/24/RN组件之WebView/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/24/RN组件之WebView/" itemprop="url">
                  RN组件之WebView
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-24T17:41:49+08:00">
                2017-03-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/24/RN组件之WebView/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/24/RN组件之WebView/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="RN组件之WebView"><a href="#RN组件之WebView" class="headerlink" title="RN组件之WebView"></a>RN组件之WebView</h2><h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><p>source {uri: string, method: string, headers: object, body: string}, {html: string, baseUrl: string}, number<br>在WebView中载入一段静态的html代码或是一个url（还可以附带一些header选项）。<br>onError function  方法 当网页加载失败的时候调用<br>onLoad  function 方法  当网页加载结束的时候调用<br>onLoadEnd fucntion 当网页加载结束调用，不管是成功还是失败<br>onLoadStart  function  当网页开始加载的时候调用<br>onNavigationStateChange function方法  当导航状态发生变化的时候调用<br>renderError  function  该方法用于渲染一个View视图用来显示错误信息<br>renderLoagin function  该方法用于渲染一个View视图用来显示一个加载进度指示器<br>startInLoadingState  bool<br>domStorageEnabled bool  该适合Android平台 该只适合于Android平台，用于控制是否开启DOM Storage（存储）<br>javaScriptEnabled  bool  该适合于Android平台，是否开启JavaScript，在iOS中的WebView是默认开启的<br>onShouldStartLoadWithRequest  function<br>该适合iOS平台，该允许拦截WebView加载的URL地址，进行自定义处理。该方法通过返回true或者falase来决定是否继续加载该拦截到请求<br>scalesPageToFit  bool  该适合iOS平台  用于设置网页是否缩放自适应到整个屏幕视图以及用户是否可以改变缩放页面<br>scrollEnabled  bool    该适合iOS平台 用于设置是否开启页面滚动 ，默认为ture</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;WebView</span><br><span class="line">          style=&#123;&#123;width:width,height:height,backgroundColor:&apos;#f0f0f0&apos;&#125;&#125;</span><br><span class="line">          source=&#123;&#123;uri:this.state.url,method: &apos;GET&apos;&#125;&#125;</span><br><span class="line">          javaScriptEnabled=&#123;true&#125;</span><br><span class="line">          domStorageEnabled=&#123;true&#125;</span><br><span class="line">          scalesPageToFit=&#123;false&#125;</span><br><span class="line">          /&gt;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/24/ReactNative实现图片上传功能/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="DavikChen">
    <meta itemprop="description" content>
    <meta itemprop="image" content="/images/davikchen_pic.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="带刀大哥">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="带刀大哥" src>
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/24/ReactNative实现图片上传功能/" itemprop="url">
                  ReactNative实现图片上传功能
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-24T17:26:26+08:00">
                2017-03-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/24/ReactNative实现图片上传功能/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/24/ReactNative实现图片上传功能/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ReactNative实现图片上传功能"><a href="#ReactNative实现图片上传功能" class="headerlink" title="ReactNative实现图片上传功能"></a>ReactNative实现图片上传功能</h2><p>我们的项目里需要使用图片上传（用JS 实现图片上传），那我们有没有什么办法呢？<br>通过搜索React-native的github， 会发现里面有这么一篇文章：<a href="https://github.com/facebook/react-native/issues/5308" target="_blank" rel="noopener">https://github.com/facebook/react-native/issues/5308</a></p>
<p>解决方案：<br>采用FormData来实现，FormData 的API参考：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FormData" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/FormData</a><br>利用FormData对象,你可以使用一系列的键值对来模拟一个完整的表单,然后使用XMLHttpRequest发送这个”表单”.</p>
<p>那么我们就来看看在RN里怎么做，贴代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">uploadImage()&#123;  </span><br><span class="line">  let formData = new FormData();  </span><br><span class="line">  let file = &#123;uri: uri, type: &apos;multipart/form-data&apos;, name: &apos;a.jpg&apos;&#125;;  </span><br><span class="line">  </span><br><span class="line">  formData.append(&quot;images&quot;,file);  </span><br><span class="line">  </span><br><span class="line">  fetch(url,&#123;  </span><br><span class="line">    method:&apos;POST&apos;,  </span><br><span class="line">    headers:&#123;  </span><br><span class="line">        &apos;Content-Type&apos;:&apos;multipart/form-data&apos;,  </span><br><span class="line">    &#125;,  </span><br><span class="line">    body:formData,  </span><br><span class="line">  &#125;)  </span><br><span class="line">  .then((response) =&gt; response.text() )  </span><br><span class="line">  .then((responseData)=&gt;&#123;  </span><br><span class="line">  </span><br><span class="line">    console.log(&apos;responseData&apos;,responseData);  </span><br><span class="line">  &#125;)  </span><br><span class="line">  .catch((error)=&gt;&#123;console.error(&apos;error&apos;,error)&#125;);  </span><br><span class="line">  </span><br><span class="line">&#125; </span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">1、首先我们new了一个FormData</span><br><span class="line">2、创建一个file对象，uri是什么？如下示例：</span><br><span class="line">Android:  file:///storage/emulated/0/Pictures/eb645893-4c00-44a3-a9b4-a2116e955f7c.jpg</span><br><span class="line">ios:         /Users/ashleydw/Library/Developer/CoreSimulator/Devices/23EE88D0-6E91-43AD-A3B6-06F87698C5A8/data/Containers/Data/Application/A73E68D3-7424-4301-9934-AD0F8251C1EB/tmp/7803DA8A-0E40-4FCB-A593-884805878172.jpg</span><br><span class="line">3、设置header</span><br></pre></td></tr></table></figure>

<p>‘Content-Type’:’multipart/form-data’, </p>
<pre><code>4、将创建好的FormData赋值给body

这样我们就完成了图片上传的功能。
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/davikchen_pic.jpg" alt="DavikChen">
          <p class="site-author-name" itemprop="name">DavikChen</p>
          <p class="site-description motion-element" itemprop="description">记录在工作中遇到的各种技术问题</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">103</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">67</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DavikChen</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"davikchen"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>
